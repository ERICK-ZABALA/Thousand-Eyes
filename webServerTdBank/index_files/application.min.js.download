/*!tdca-pub 2021-09-16 19:49:53 v21.6.5*/

function exposedFilterToolController(e,t,o,a,r,i,n,l){"use strict";var c=this;function s(){return n.getHttp(c.getJsonFrom).then(function(e){c.filterToolJson=e.data.category.keywords;for(var o=0;o<c.filterToolJson.length;o++)if(c.filterToolJson[o].key==c.filterToolType){for(var a=0;a<c.filterToolJson[o].keywords.length;a++){var i=c.catagories[c.filterToolJson[o].keywords[a].key];if(void 0!=i&&(i.keywords=c.filterToolJson[o].keywords[a].keywords,"checkbox"==i.type))for(var n=0;n<i.keywords.length;n++){var s;s={key:i.keywords[n].key,disable:!0},c.checkBoxListData.push(s)}}angular.forEach(c.catagories,function(e,t){""!=c.catagories[t].defaultValue?c.currentSelection[t]=c.catagories[t].defaultValue:c.currentSelection[t]=new Array})}c.selectedData=Object.keys(c.currentSelection).map(function(e){return c.currentSelection[e]}),t.setFilterData(c.selectedData),l.setCatagoryData(c.checkBoxListData),r.$emit("updateProductCatalogue",c.productId)},function(e){c.error=e.error})}c.currentSelection={},c.getJsonFrom=a.conTextPathVal+"/system/assets/taxonomy/filter-tool.json",c.filterToolType="",c.filterToolJson={},c.catagories=[],c.selectedData={},c.filterToolCategory=function(e,t){void 0==t&&null==t||(c.filterToolType=e);c.catagories=t},c.filterToolLogic=s,c.updateModel=function(){c.selectedData=Object.keys(c.currentSelection).map(function(e){return c.currentSelection[e]}),t.setFilterData(c.selectedData),r.$emit("updateProductCatalogue",c.productId)},c.resetModel=function(e){""==e&&void 0==e||(c.currentSelection[e]=[]);c.updateModel()},c.setCatalogueNumber=function(e){c.productId=e},c.productId="",c.checkBoxListData=[],s()}function ExposedFilterToolV2Controller(e,t,o,a,r,i,n,l,c){vmef=this,vmef.cardType=[],vmef.cardBenefits=[],vmef.filterToolJsonUrl=t.conTextPathVal+"/system/assets/taxonomy/filter-tool.json",vmef.cardTypeIcons=[],vmef.cardBenefitsIcons=[],vmef.cardTypeButtonType="",vmef.cardBenefitsButtonType="",vmef.catalogueId=1,vmef.grid="",vmef.classificationMap={};var s=angular.element(document).find(".td_rq_product_grid"),d=angular.element(document).find(".td-product-service-illustration-grid");vmef.initFilterToolData=function(t,o){vmef.cardTypeIcons=o.cardType.icons,vmef.cardBenefitsIcons=o.cardBenefits.icons,vmef.cardTypeButtonType=o.cardType.type,vmef.cardBenefitsButtonType=o.cardBenefits.type,vmef.grid=angular.equals(o.grid,"")||void 0===o.grid?vmef.grid:o.grid,vmef.catalogueId=angular.equals(o.catalogueId,"")||void 0===o.catalogueId?vmef.catalogueId:o.catalogueId,vmef.filterBtnGroup1=void 0===o.cardType.defaultValue?"":o.cardType.defaultValue,vmef.filterBtnGroup2=void 0===o.cardBenefits.defaultValue?"":o.cardBenefits.defaultValue,e.get(vmef.filterToolJsonUrl).then(function(e){for(var o=e.data.category.keywords,r=0;r<o.length;r++)if(o[r].key==t){var s=o[r].keywords[0],d=o[r].keywords[1];vmef.cardType=void 0!==s?o[r].keywords[0].keywords:[],vmef.cardBenefits=void 0!==d?o[r].keywords[1].keywords:[],i.setFilterData("cardType",vmef.filterBtnGroup1),i.setFilterData("cardBenefits",vmef.filterBtnGroup2),i.setFilterData("catalogueId",vmef.catalogueId);var u=n.getClassification(vmef.catalogueId);c.productMappingsfromClassification(u),angular.equals(vmef.cardBenefits,[])||(l.mapProductClassification(u),vmef.classificationMap=i.getClassificationMap()),a.$emit("UpdateFilterToolSummary",{totalCount:Object.keys(u).length,grid:vmef.grid});break}})},vmef.updateCardType=function(e){u(),i.setFilterData("cardType",e),i.setFilterData("cardBenefits",""),vmef.filterBtnGroup2="",a.$emit("UpdateFilterToolSummary",{totalCount:-1,grid:vmef.grid})},vmef.updateCardBenefits=function(e){u(),i.setFilterData("cardBenefits",e),a.$emit("UpdateFilterToolSummary",{totalCount:-1,grid:vmef.grid})};var u=function(){s.length&&angular.equals(vmef.grid,".td_rq_product_grid")&&s.css("opacity",0),d.length&&angular.equals(vmef.grid,".td-product-service-illustration-grid")&&d.css("opacity",0)};vmef.isDisabled=function(e){return-1==vmef.classificationMap[vmef.filterBtnGroup1].indexOf(e)}}function filterToolController(e,t,o,a,r,i,n,l){"use strict";var c=this;function s(){return n.getHttp(c.getJsonFrom).then(function(e){c.filterToolDropDownJson=e.data;for(var o=0;o<c.filterToolDropDownJson.category.keywords.length;o++)c.filterToolDropDownJson.category.keywords[o].key==c.filterToolType&&(c.catagories=c.filterToolDropDownJson.category.keywords[o].keywords,angular.forEach(c.catagories,function(e,t){""!=c.interActiveValues||void 0!=c.interActiveValues?""==c.interActiveValues["ftparm"+(t+1)]||void 0==c.interActiveValues["ftparm"+(t+1)]?c.dynamicDropdownJson[c.catagories[t].key]=c.catagories[t].keywords[0].key:c.interActiveValues["ftparm"+(t+1)]>c.catagories[t].keywords.length?c.dynamicDropdownJson[c.catagories[t].key]=c.catagories[t].keywords[0].key:c.dynamicDropdownJson[c.catagories[t].key]=c.catagories[t].keywords[c.interActiveValues["ftparm"+(t+1)]].key:c.dynamicDropdownJson[c.catagories[t].key]=c.catagories[t].keywords[0].key}));c.allDropDownData=Object.keys(c.dynamicDropdownJson).map(function(e){return c.dynamicDropdownJson[e]}),t.setFilterData(c.allDropDownData),r.$emit("sendDataParentCtrl",c.productId)},function(e){c.error=e.error})}function d(){c.allDropDownData=Object.keys(c.dynamicDropdownJson).map(function(e){return c.dynamicDropdownJson[e]}),t.setFilterData(c.allDropDownData),r.$emit("sendDataParentCtrl",c.productId)}function u(){var e=Object.keys(c.dynamicDropdownJson).map(function(e){return c.dynamicDropdownJson[e]});angular.forEach(c.catagories,function(t,o){angular.forEach(t.keywords,function(t,o){e==t.key&&(c.selectedProvince=t.keywords,void 0!==t.keywords[0]&&(c.dynamicDropdownJson.dropdown2=t.keywords[0].key))})})}c.dynamicDropdownJson={},c.getJsonFrom=a.conTextPathVal+"/system/assets/taxonomy/filter-tool.json",c.interActiveValues=i.search(),c.filterToolType="",c.filterToolDropDownJson={},c.catagories={},c.allDropDownData={},c.filterToolCategory=function(e){c.filterToolType=e},c.filterToolLogic=s,c.changeDropDownData=d,c.setCatalogueNumber=function(e){c.productId=e},c.productId="",s(),c.selectedProvince="",c.populateNextDropdown=function(e){var t=c.dynamicDropdownJson[e],o={};if(o[e]=c.dynamicDropdownJson[e],c.dynamicDropdownJson=o,u(),"default.ProvinceList"!=t){r.$emit("changeFilterToolStatus",{});var i=a.conTextPathVal+"/system/assets/json/account_manager/acc_manager_"+t+".json";return n.getHttp(i).then(function(e){var t=""!=e.data.products&&void 0!==e.data.products?e.data.products:{};r.$emit("sendClassificationParentCtrl",t),l(d,5)},function(){r.$emit("sendClassificationParentCtrl",{})})}r.$emit("sendClassificationParentCtrl","default")},c.setDefaultValueNextDropdown=u}function NotificationMessageController(e,t){nmvm=this,nmvm.smsTextList={},nmvm.setNotificationMsgText=function(e,t){nmvm.smsTextList[t]=e},nmvm.sendSMS=function(o){var a=encodeURI(nmvm.smsTextList[o]),r=angular.element(document).find("#"+o),i=r.find("input"),n=i.val();t.$emit("UpdateNotificationMsgViewData",{phone:n});var l=r.find("button"),c=r.find(".legal-heading"),s=r.find(".msg_wait"),d=r.find(".msg_result_error"),u=r.find(".msg_result_success"),m=angular.element(document).find(".msg_wait"),f=angular.element(document).find(".msg_result_error"),p=angular.element(document).find(".msg_result_success"),v=angular.element(document).find(".legal-heading");if(m.hide(),f.hide(),p.hide(),v.show(),""!=n&&null!=n){var g='{"phone":"'+(n=n.replace(/[( )-]/g,""))+'", "msg":"'+a+'"}',C=conTextPathVal+"/common/sendSMS/";l.addClass("disabled"),c.hide(),s.show().attr("aria-hidden","false").focus(),e.post(C,g).then(function(e){var t=e.data;l.removeClass("disabled"),s.hide().attr("aria-hidden","true"),"true"===t?(i.val(""),d.hide().attr("aria-hidden","true"),u.show().attr("aria-hidden","false").focus()):(u.hide().attr("aria-hidden","true"),d.show().attr("aria-hidden","false").focus())})}}}function ProductCatalogueController(e,t,o){vmpc=this,vmpc.isSelected=function(e,a){var r=t.getFilterData(),i=void 0===r.cardType?"":r.cardType,n=void 0===r.cardBenefits?"":r.cardBenefits,l=angular.equals(r.catalogueId,"")||void 0===r.catalogueId?"1":r.catalogueId;return!angular.equals(i,"")&&angular.equals(l,a)?(classification=o.getProductMappings(),-1==classification[e].cardType.indexOf(i)||-1==classification[e].cardBenefits.indexOf(n)):!1}}function RatesController(e,t,o){vmrc=this,vmrc.getRates=function(a){var r=conTextPathVal+"/getRates/";o.isEmptyErrorMsg=a.errorText,(angular.equals(a.ratesType,"resl")&&!o.IS_RESL_RATES_AVAIL||angular.equals(a.ratesType,"gic")&&!o.IS_GIC_RATES_AVAIL)&&(t.post(r,a).then(function(t){angular.equals(t.data,"")?o.RATES_ERROR=a.errorText:angular.equals(a.ratesType,"resl")?o.RESL_RATES=t.data:angular.equals(a.ratesType,"gic")&&(o.GIC_RATES=t.data),e.$emit("UpdateRatesViewData",{reslrates:o.RESL_RATES,gicrates:o.GIC_RATES,error:o.RATES_ERROR,isEmptyErrorMsg:o.isEmptyErrorMsg})},function(t){o.RATES_ERROR=a.errorText,e.$emit("UpdateRatesViewData",{reslrates:o.RESL_RATES,gicrates:o.GIC_RATES,error:o.RATES_ERROR,isEmptyErrorMsg:o.isEmptyErrorMsg})}),angular.equals(a.ratesType,"resl")?o.IS_RESL_RATES_AVAIL=!0:angular.equals(a.ratesType,"gic")&&(o.IS_GIC_RATES_AVAIL=!0))}}function ReslRateController($scope,$rootScope,TDCT_UTIL){var lang="en";$scope.formatedRate="",void 0==window.conTextPathVal&&""==window.conTextPathVal||(lang=window.conTextPathVal.split("/")[2]);var rateTypes=["P","C","S","A"];function filterRate(TDCT_UTIL){var ratesArray=$scope.code,rate=TDCT_UTIL.isEmptyErrorMsg;if(void 0!=ratesArray&&0!=ratesArray.length){if(eval($scope.highRatio)){$scope.isSpecialRate=!eval(ratesArray.highRatio[4]),$scope.type=void 0!==$scope.type?$scope.type:$scope.isSpecialRate?"S":"P";var rate=ratesArray.highRatio[rateTypes.indexOf($scope.type)]}else{$scope.isSpecialRate=!eval(ratesArray.nonHighRatio[4]),$scope.type=void 0!==$scope.type?$scope.type:$scope.isSpecialRate?"S":"P";var rate=ratesArray.nonHighRatio[rateTypes.indexOf($scope.type)]}isNaN(parseInt(rate))||("C"==$scope.type&&(rate=(rate<0?"+ ":"- ")+Math.abs(rate).toFixed(2)),$scope.formatedRate="fr"!=lang?rate+"%":(rate+" %").replace(".",","))}(void 0!=ratesArray&&angular.equals($scope.formatedRate,"")||!angular.equals(TDCT_UTIL.RATES_ERROR,""))&&($scope.formatedRate=TDCT_UTIL.isEmptyErrorMsg)}$scope.$watchCollection(function(){return TDCT_UTIL},function(e,t,o){filterRate(TDCT_UTIL)})}function tdctRedesignController($scope,$rootScope,TDCT_UTIL,$http,$cookies,$timeout,$compile,$window,$location,factoryFilterTool,filtertoolLoad,apiFactory,filterToolLoadCatagory,ProductCatalogueService,exposedFilterToolV2Factory){var vm=this;vm.init=init,vm.cardClassification=cardClassification,vm.cardSelected=cardSelected,vm.appendCookie=appendCookie,vm.checkRecent=checkRecent,vm.removeSelectedProduct=removeSelectedProduct,vm.setCard=setCard,vm.closeButton=closeButton,vm.lang="en",vm.classifications={classifications:[]},vm.productId="",vm.classification={},vm.selectionCriteria="",vm.catalogueLength="",vm.userInit=null,vm.getSelectedData={},vm.cardJson={},vm.catalogueLength=0,vm.error="",vm.compareCookies="",vm.selectedCardIds=[],vm.selectedCardList=[],vm.matchedProducts=[],vm.isThreeCardsAvailable=!1,vm.login=!1,vm.logout=!1,vm.mobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),vm.provinceData={},vm.provincePlaceholder="",vm.province="",vm.provinceList=[],vm.provinceListRight=[],vm.provinceListLeft=[],vm.radioProvinceMid=0,vm.anonymousUserInCa=!1,vm.identifiedUserChangeLoc=!1,vm.identifiedUserOutCa=!1,vm.authUserNoChangeLoc=!1,vm.authUserChangeLoc=!1,vm.authUserOutCa=!1;var currentURL=window.location.href;currentURL="/"==currentURL.charAt(currentURL.length-1)?currentURL.slice(0,-1):currentURL,vm.isDisabled=!1,$("#compareTableHeadDefault3").addClass("td-hide-cell"),$(".compareTableTdDefault3").addClass("td-hide-cell"),$("#compareTableToggleDefault3").addClass("td-hide-cell"),$("#compareTableToggleDefaultMobile3").addClass("td-hide-cell"),vm.filterResultShow=!1,vm.filterResultWait=!1,vm.filterNoResult=!1,vm.filterDefaultState=!0,vm.reslrates={},vm.gicrates={},vm.isEmptyErrorMsg="",vm.timer,vm.isCardRemoved=!1,vm.initCompareTable=!0,vm.exposedFilterToolSummary={catalogueItemsLength:0,selectedItemsLength:0},init();var TD_PRODUCT_GRID=angular.element(document).find(".td_rq_product_grid"),TD_CATALOGUE_CARD=angular.element(document).find(".td-catalogue-card"),TD_PROD_SERV_ILLS_GRID=angular.element(document).find(".td-product-service-illustration-grid");$scope.$on("UpdateFilterToolSummary",function(e,t){var o=t.grid,a=t.totalCount;-1!=a&&(vm.exposedFilterToolSummary.catalogueItemsLength=a),$timeout(function(){if(TD_PRODUCT_GRID.length&&angular.equals(o,".td_rq_product_grid")){var e=angular.element(document).find(".td-catalogue-card.ng-hide").length;vm.exposedFilterToolSummary.selectedItemsLength=vm.exposedFilterToolSummary.catalogueItemsLength-e,TD_CATALOGUE_CARD.tdCatalogueCard({re_render:!0}),TD_PRODUCT_GRID.tdProductGrid()}if(TD_PROD_SERV_ILLS_GRID.length&&angular.equals(o,".td-product-service-illustration-grid")){e=angular.element(document).find(".td-product-service.ng-hide").length;vm.exposedFilterToolSummary.selectedItemsLength=vm.exposedFilterToolSummary.catalogueItemsLength-e,TD_PROD_SERV_ILLS_GRID.tdProductServiceIllustrationGrid({re_render:!0})}TD_PRODUCT_GRID.find(".td-row").animate({opacity:1}),TD_PROD_SERV_ILLS_GRID.find(".td-row").animate({opacity:1})},100)}),vm.modalContent=[],vm.cardList=[];var STICKY_DRAWER=angular.element(document).find(".td_rq_compare-sticky-drawer"),COMPARE_MODAL=angular.element(document).find(".td_rq_large-modal-overlay").find(".td_rq_compare_modal"),COMPARE_MODAL_TD_SPINNER="",PRODUCT_METADATA="",prod_type="",lang="",prod_ids_cookie_name="";vm.compareCardSelected={};var COMPARE_TABLE=angular.element(document).find(".td_rq_compare-table");vm.isModalButtonDisabled=!1;var isMobile=/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());vm.initProdCookie="",vm.getModalContent=function(e){e=conTextPathVal+e,$http.get(e).then(function(e){vm.modalContent=e.data.cardList,angular.forEach(vm.modalContent,function(e,t){var o=angular.element("<div class='rte'>"+e.CardDesc[0].Fragments[0].Html+"</div>"),a=o.find(".compare-modal-only"),r=a.length?a.html():o.find("p:first-child").html();e.CardDesc[0].Fragments[0].Html="<p class='compare-modal-only'>"+r+"</p>",e.Product_Special=void 0!==e.SpecialOffer,vm.cardList.push(e),$timeout(function(){initComapareModal()},100)})}),$(".td_rq_compare_modal").tdCompareModal()};var initComapareModal=function(){COMPARE_MODAL_TD_SPINNER=COMPARE_MODAL.find(".td-spinner"),PRODUCT_METADATA=COMPARE_MODAL.find(".td_rq_compare-card").metadata(),prod_type=PRODUCT_METADATA.card.prod_type,lang=PRODUCT_METADATA.lang,prod_ids_cookie_name="prod_ids_"+prod_type+"_"+lang},sortCompareModal=function(){COMPARE_MODAL_TD_SPINNER.show();var e=decodeURIComponent($cookies.get(prod_ids_cookie_name));vm.initProdCookie=decodeURIComponent($cookies.get(prod_ids_cookie_name));var t=e.split(","),o=lang+"_"+prod_type+"_",a=COMPARE_MODAL.metadata().suggest_prod,r=(angular.equals(a,{})?{}:isMobile?a.mobile:a.desktop)[t[0].replace(o,"")];t.length<2?(vm.isModalButtonDisabled=!0,1==t.length&&angular.forEach(r,function(e,a){isMobile&&a>0||t.push(o+e)})):vm.isModalButtonDisabled=!1,vm.cardList=[],angular.forEach(vm.modalContent,function(e,a){var r=o+e.CardId,i=t.indexOf(r);angular.equals(i,-1)||(vm.cardList[i]=e)}),angular.forEach(vm.modalContent,function(e,o){var a=lang+"_"+prod_type+"_"+e.CardId;angular.equals(t.indexOf(a),-1)&&vm.cardList.push(e)}),$timeout(function(e){$(".td_rq_compare_modal").tdCompareModal(),$(".td-compare-card").tdCompareCard(),g.initLinks(),void 0!==e?$timeout(function(e){$(".td-compare-card").tdCompareCard({suggest_prods:{status:!0,prod_ids:r}}),COMPARE_MODAL_TD_SPINNER.hide()},100,!0,e):COMPARE_MODAL_TD_SPINNER.hide()},100,!0,r)};vm.compareProducts=function(e){if(COMPARE_TABLE.length){refreshCompareTable();var t="#"+COMPARE_TABLE.metadata().compare_modal.id;$(t).tdModal({show:!1})}else{var o=decodeURIComponent($cookies.get(prod_ids_cookie_name));$window.location.href=e+"?prod_ids="+encodeURIComponent(o)}},STICKY_DRAWER.on("click",".anchor_emptyslot,.emptyslot",function(){$scope.$evalAsync(function(){STICKY_DRAWER.metadata().compare_modal.enabled&&sortCompareModal()})}),$scope.$on("UpdateRatesViewData",function(e,t){vm.gicrates=t.gicrates,vm.reslrates=t.reslrates,vm.isEmptyErrorMsg=t.isEmptyErrorMsg,vm.error=t.error}),COMPARE_MODAL.on("click",function(){$scope.$evalAsync(function(){var e=decodeURIComponent($cookies.get(prod_ids_cookie_name)).split(",");if(COMPARE_MODAL_TD_SPINNER.show(),e.length<2){var t=lang+"_"+prod_type+"_",o=COMPARE_MODAL.metadata().suggest_prod,a=(angular.equals(o,{})?{}:isMobile?o.mobile:o.desktop)[e[0].replace(t,"")];void 0!==a&&$(".td-compare-card").tdCompareCard({suggest_prods:{status:!0,prod_ids:a}}),vm.isModalButtonDisabled=!0}else vm.isModalButtonDisabled=!1;COMPARE_MODAL_TD_SPINNER.hide()})}),vm.compareTableEmptySlotAction=function(e,t){if(angular.element(document).find(t).find(".emptyslot").length)if(vm.isCardRemoved&&vm.initCompareTable)vm.isCardRemoved=!1;else{var o=COMPARE_TABLE.metadata(),a="#"+o.compare_modal.id;o.compare_modal.enabled?($(a).find("div").removeClass("card-suggested"),$(a).tdModal({show:!0,scroll_height:"85%"}),sortCompareModal()):location.href=e}},vm.closeCompareModal=function(){COMPARE_TABLE.length&&refreshCompareTable()};var refreshCompareTable=function(){var e=decodeURIComponent($cookies.get(prod_ids_cookie_name));if(!angular.equals(e,vm.initProdCookie)){vm.initCompareTable=!1;for(var t=0;t<3;t++)$compile($("#compareTableHeadDefault"+t).html($("#compareTableHeadDefault3").html()))($scope),$compile($(".compareTableTdDefault"+t).html($(".compareTableTdDefault3").html()))($scope),$compile($("#compareTableToggleDefault"+t).html($("#compareTableToggleDefault3").html()))($scope),$compile($("#compareTableToggleDefaultMobile"+t).html($("#compareTableToggleDefaultMobile3").html()))($scope);vm.cardSelected(vm.compareCardSelected.selectedCompareCardId,vm.compareCardSelected.keyType,vm.compareCardSelected.featureLength)}};function init(){void 0==window.conTextPathVal&&""==window.conTextPathVal||(vm.lang=window.conTextPathVal.split("/")[2]);var e=new XMLHttpRequest($cookies),t=$cookies.get("infositeCookie"),o=infositeUrl+"?x="+$.now();null==t?"stg"!=window.env.toLowerCase()?(e.onreadystatechange=function(){if(4==this.readyState&&(vm.login=!0,vm.logout=!1,$scope.$digest(),200==this.status)){var e,t=this.responseText.trim();e=JSON.parse(t),angular.forEach(e,function(e,t){"infositeCookie"!=t&&"omSessionID"!=t||(document.cookie=t+"="+e+";domain=.td.com;path=/;")}),null!=$cookies.get("infositeCookie")&&(vm.login=!1,vm.logout=!0,$scope.$digest(),OmniOnloadTrigger())}},e.open("GET",o,!0),e.withCredentials=!0,e.send()):(vm.login=!0,vm.logout=!1):(vm.login=!1,vm.logout=!0,OmniOnloadTrigger())}function checkProvince(){if($(".td_rq_region-selector").length){vm.provinceList=province_list.category.keywords;var e=$cookies.get("ca_user_loc"),t=$cookies.get("eapply_user_loc"),o=JSON.parse($cookies.get("user_info")),a=[];if(null==e&&null!=t&&(e=t),null!=e){var r=o.type;a=JSON.parse('{"'+e.split("|").join('","').split("=").join('":"')+'"}');vm.province=a.province.toUpperCase();for(var i=0;i<vm.provinceList.length;i++)if(vm.provinceList[i].key==vm.province){vm.provincePlaceholder=vm.provinceList[i].description;break}switch(void 0!==$(".td_rq_region-selector").tdRegionSelector&&$(".td_rq_region-selector").tdRegionSelector({province:vm.province}),r){case"PROVINCE_CHANGE_IN_CA":vm.identifiedUserChangeLoc=!0;break;case"IDENTIFIED_OUT_CA":vm.identifiedUserOutCa=!0;break;case"AUTH_NO_PROVINCE_CHANGE":vm.authUserNoChangeLoc=!0;break;case"AUTH_PROVINCE_CHANGE":vm.authUserChangeLoc=!0;break;case"AUTH_OUT_CA":vm.authUserOutCa=!0;break;default:vm.anonymousUserInCa=!0}}else{var n=window.innerWidth<768?1500:500;setTimeout(function(){$("#anonymousUserOutCA").tdModal({show:!0}),$("#anonymousUserOutCA .close-button").addClass("hide")},n)}}}function closeButton(){var e="na",t="ca",o="",a=$cookies.get("ca_user_loc"),r=JSON.parse($cookies.get("user_info"));if(null!=a){var i=JSON.parse('{"'+a.split("|").join('","').split("=").join('":"')+'"}');e=i.city,t=i.country,o=i.province}if(o!=vm.province.toLowerCase()){r.manual="true",r.type="NO_PROVINCE_CHANGE_IN_CA",document.cookie="user_info="+JSON.stringify(r)+";path=/;domain=.td.com";var n=new Date;n.setTime(n.getTime()+220752e6);n.toUTCString();var l="province="+vm.province.toLowerCase()+"|city="+e+"|country="+t;if(document.cookie="ca_user_loc="+l+";path="+conTextPathVal+";expires="+n.toUTCString()+";domain=.td.com",document.cookie="eapply_user_loc="+l+";path=/;expires="+n.toUTCString()+";domain=.td.com",$("#anonymousUserOutCA").length){var c=getQueryParameterByName("source",currentURL).replace("/quebec","");currentURL="qc"==vm.province.toLowerCase()?c+"/quebec":c,window.location.replace(currentURL)}if(vm.identifiedUserChangeLoc=!1,vm.identifiedUserOutCa=!1,vm.authUserNoChangeLoc=!1,vm.authUserChangeLoc=!1,vm.authUserOutCa=!1,vm.anonymousUserInCa=!0,$(".td-indicator-recently-viewed").removeClass("show"),$cookies.put("RecentItems","",{path:conTextPathVal,expires:"Thu, 01 Jan 1970 00:00:00 UTC"}),removeCompareProductCookie(),-1!=currentURL.indexOf("/quebec")||"qc"!=vm.province.toLowerCase()&&"pq"!=vm.province.toLowerCase())-1!=currentURL.indexOf("/quebec")&&"qc"!=vm.province.toLowerCase()&&"pq"!=vm.province.toLowerCase()?window.location.replace(currentURL.replace("/quebec","")):$(".td_rq_compare-sticky-drawer").length&&$(".anchor_emptyslot").length<3&&window.location.reload();else{if(-1!=currentURL.indexOf("?")){var s=currentURL.split("?");s[0]="/"==s[0].charAt(s[0].length-1)?s[0]+"quebec":s[0]+"/quebec",currentURL=s.join("?")}else currentURL="/"==currentURL.charAt(currentURL.length-1)?currentURL+"quebec":currentURL+"/quebec";window.location.replace(currentURL)}}}function getQueryParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}function removeCompareProductCookie(){for(var e=unescape(document.cookie).split(";"),t=0;t<e.length;t++)if(-1!=e[t].indexOf("_ba=")||-1!=e[t].indexOf("prod_ids_")||-1!=e[t].indexOf("_id=")||-1!=e[t].indexOf("_cc=")||-1!=e[t].indexOf("_name=")||-1!=e[t].indexOf("_img=")||-1!=e[t].indexOf("_type=")||-1!=e[t].indexOf("_offer=")||-1!=e[t].indexOf("_url=")){var o=e[t].split("=");$cookies.put(o[0].trim(),"",{path:conTextPathVal,expires:"Thu, 01 Jan 1970 00:00:00 UTC"})}}function setCard(e,t){if(maxRecentlyViewed>0){var o=appendCookie(e,t);if(null!=o){var a=new Date;a.setTime(a.getTime()+31536e6);var r="expires="+a.toUTCString();document.cookie="RecentItems="+o+";path="+conTextPathVal+";expires="+r}}}function appendCookie(e,t){var o=$cookies.get("RecentItems");if(null!=o){var a=getCardTypeElements(o,t);if(null!=a){var r=getItemArrayList(a);if(!isCardExist(r,e)){var i="";if(r.length<maxRecentlyViewed+1){for(var n=0;n<r.length;n++)i=i+r[n]+"|";i=i+e+"|"}else if(r.length==maxRecentlyViewed+1){for(n=1;n<r.length-1;n++)r[n]=r[n+1];r[r.length-1]=e;for(n=0;n<r.length;n++)i=i+r[n]+"|"}o=o.replace(a,i)}}else o=o+t+"|"+e+"|||"}else o=t+"|"+e+"|||";return o}function checkRecent(e,t,o){var a=$cookies.get("RecentItems");if(null!=a){var r=getCardTypeElements(a,o);if(null!=r)isCardExist(getItemArrayList(r),t)&&($("#"+e).find(".td-indicator-recently-viewed").addClass("show"),$(".td-catalogue-card").tdCatalogueCard({re_render:!0}))}$(".td-filter-tool").length||$(".td-filter-tool-v2").length||($(".td_rq_product_grid").length&&$(".td_rq_product_grid .td-row").animate({opacity:1}),$(".td-product-service-illustration-grid").length&&$(".td-product-service-illustration-grid .td-row").animate({opacity:1}))}function getCardTypeElements(e,t){if(-1!=e.indexOf(t)){var o=e.indexOf(t),a=e.indexOf("|||",o);return e.substring(o,a)+"|"}return null}function getItemArrayList(e){for(var t=[];""!=e;)t.push(e.substring(0,e.indexOf("|"))),e=e.replace(e.substring(0,e.indexOf("|")+1),"");return t}function isCardExist(e,t){for(var o=0;o<e.length;o++)if(e[o]==t)return!0;return!1}function cardClassification(e,t){vm.classification=e,vm.classifications.classifications.push({id:t,classification:e}),ProductCatalogueService.productClassifications(vm.classifications)}function cardSelected(e,t,o){vm.compareCardSelected={selectedCompareCardId:e,keyType:t,featureLength:o},"creditCard"==t?"en"==vm.lang?(vm.compareCookies=$cookies.get("prod_ids_cc_en"),vm.selectedCardIds=vm.compareCookies.split("%2C")):(vm.compareCookies=$cookies.get("prod_ids_cc_fr"),vm.selectedCardIds=vm.compareCookies.split("%2C")):"accounts"==t&&("en"==vm.lang?(vm.compareCookies=$cookies.get("prod_ids_ba_en"),vm.selectedCardIds=vm.compareCookies.split("%2C")):(vm.compareCookies=$cookies.get("prod_ids_ba_fr"),vm.selectedCardIds=vm.compareCookies.split("%2C"))),vm.totalCrad=e.split(",");for(var a=0;a<vm.totalCrad.length;a++)for(var r=0;r<vm.selectedCardIds.length;r++)vm.selectedCardIds[r]=vm.selectedCardIds[r].replace("en_cc_","").replace("fr_cc_","").replace("en_ba_","").replace("fr_ba_",""),vm.totalCrad[a]==vm.selectedCardIds[r]&&vm.selectedCardList.push(a);for(a=0;a<vm.selectedCardIds.length;a++)for(r=0;r<vm.totalCrad.length;r++)if(vm.selectedCardIds[a]==vm.totalCrad[r]){vm.matchedProducts.push(r),$compile($("#compareTableHeadDefault"+a).html($("#compareTableHead"+r).html()))($scope);for(var i=0;i<o;i++)$compile($("#compareTableBodyDefault"+i+a).html($("#compareTableTd"+i+r).html()))($scope);$compile($("#compareTableToggleDefault"+a).html($("#stickyDrawer"+r).html()))($scope),$compile($("#compareTableToggleDefaultMobile"+a).html($("#stickyDrawerMobile"+r).html()))($scope)}for(var n=0;n<vm.selectedCardList.length;n++)2==n&&$("#compareTableHead"+vm.selectedCardList[n]).addClass("td-col-last-spacing");$(".td_rq_compare-table").compareTable("init"),$(".td_rq_compare-table-sticky").compareTableSticky("init"),$timeout(function(){$(window).trigger("resize")},300)}function removeSelectedProduct(e,t,o){vm.isCardRemoved=!0;var a="cc";"accounts"==o&&(a="ba");for(var r="prod_ids_"+a+"_"+vm.lang,i=$cookies.get(r).split("%2C"),n=0;n<i.length;n++)i[n]==vm.lang+"_"+a+"_"+t&&i.splice(i.indexOf(i[n]),1);$cookies.put(r,i.join("%2C"),{path:window.conTextPathVal}),angular.forEach($cookies.getAll(),function(e,o){0==o.indexOf(vm.lang+"_"+a+"_"+t)&&$cookies.remove(o,{path:window.conTextPathVal})}),$compile($("#compareTableHeadDefault"+vm.selectedCardIds.indexOf(t)).html($("#compareTableHeadDefault3").html()))($scope),$compile($(".compareTableTdDefault"+vm.selectedCardIds.indexOf(t)).html($(".compareTableTdDefault3").html()))($scope),$compile($("#compareTableToggleDefault"+vm.selectedCardIds.indexOf(t)).html($("#compareTableToggleDefault3").html()))($scope),$compile($("#compareTableToggleDefaultMobile"+vm.selectedCardIds.indexOf(t)).html($("#compareTableToggleDefaultMobile3").html()))($scope);var l=vm.selectedCardIds.indexOf(t);vm.selectedCardIds[l]="empty",$(window).trigger("resize")}checkProvince(),$scope.$on("UpdateNotificationMsgViewData",function(e,t){vm.success_phone_text=t.phone}),vm.products=[],$rootScope.$on("changeFilterToolStatus",function(e,t){vm.timer=$timeout(function(){vm.filterResultShow=!1,vm.filterResultWait=!0,vm.filterNoResult=!1,vm.filterDefaultState=!1},700)}),$rootScope.$on("sendClassificationParentCtrl",function(e,t){var o=angular.element(document).find(".td-product-service");if("default"!=t){vm.products=t,vm.classification={};var a={};if(vm.catalogueLength=0,vm.indexList=[],$timeout.cancel(vm.timer),angular.equals(t,{}))o.addClass("hide"),vm.filterResultShow=!1,vm.filterResultWait=!1,vm.filterDefaultState=!1,vm.filterNoResult=!0;else{vm.filterResultShow=!1,vm.filterResultWait=!(vm.products.length<100),vm.filterNoResult=!1,vm.filterDefaultState=vm.products.length<100;for(var r=0;r<vm.products.length;r++){var i=vm.products[r].MetadataFields.classify.EmbeddedValues;a[r]={};for(var n=0;n<i.length;n++){a[r][n]={};for(var l=i[n].classification.KeywordValues,c=0;c<l.length;c++)a[r][n][c]=l[c].Key}}vm.classification=JSON.stringify(a),vm.catalogueLength=Object.keys(a).length}}else o.addClass("hide"),vm.filterResultShow=!1,vm.filterResultWait=!1,vm.filterDefaultState=!0,vm.filterNoResult=!1}),$rootScope.$on("sendDataParentCtrl",function(event,id){if($(".td_rq_product_grid").length&&$(".td_rq_product_grid .td-row").css("opacity",0),$(".td-product-service-illustration-grid").length&&$(".td-product-service-illustration-grid .td-row").css("opacity",0),vm.getSelectedData=factoryFilterTool.getFilterData(),vm.keyCombination="",vm.indexList=[],vm.productId=""==id?"1":id,vm.classifications.classifications.length>1)for(var i=0;i<vm.classifications.classifications.length;i++)if(vm.classifications.classifications[i].id==vm.productId){vm.classification=vm.classifications.classifications[i].classification;break}angular.equals(vm.classification,{})&&(vm.classification=JSON.stringify(vm.classification));var obj=eval("("+vm.classification+")"),parsedString=JSON.stringify(obj);vm.cardJson=JSON.parse(parsedString),vm.catalogueLength=Object.keys(vm.cardJson).length,vm.selectedDataLength=vm.getSelectedData.length;for(var j=0;j<vm.getSelectedData.length;j++)0==j?vm.keyCombination=vm.keyCombination+vm.getSelectedData[j]:j>0&&j<=vm.getSelectedData.length-1&&(vm.keyCombination=vm.keyCombination+"-"+vm.getSelectedData[j]);for(var i=0;i<vm.catalogueLength;i++)for(var k=0;k<Object.keys(vm.cardJson[i]).length;k++){for(var l=0;l<Object.keys(vm.cardJson[i][k]).length;l++)0==l?vm.selectionCriteria=vm.selectionCriteria+vm.cardJson[i][k][l]:l>0&&l<=Object.keys(vm.cardJson[i][k]).length-1&&(vm.selectionCriteria=vm.selectionCriteria+"-"+vm.cardJson[i][k][l]);if(vm.keyCombination==vm.selectionCriteria){vm.indexList.push(i),vm.selectionCriteria="";break}vm.selectionCriteria=""}for(var itemCount=0,r=0;r<vm.catalogueLength;r++)vm.indexList.indexOf(r)<0?$("#catalogue"+vm.productId.toString()+"_product"+r).addClass("hide"):($("#catalogue"+vm.productId.toString()+"_product"+r).removeClass("hide"),itemCount++);itemCount>0&&($(".td_rq_product_grid").length&&($(".td-catalogue-card").tdCatalogueCard({re_render:!0}),$(".td_rq_product_grid").tdProductGrid(),$(".td_rq_product_grid .td-row").animate({opacity:1})),$(".td-product-service-illustration-grid").length&&($(".td-product-service-illustration-grid").tdProductServiceIllustrationGrid({re_render:!0}),vm.filterResultShow=!0,vm.filterResultWait=!1,vm.filterDefaultState=!1,vm.filterNoResult=!1,$(".td-product-service-illustration-grid .td-row").animate({opacity:1})))}),$rootScope.$on("updateProductCatalogue",function(event,id){if($(".td_rq_product_grid").length&&$(".td_rq_product_grid .td-row").css("opacity",0),$(".td-product-service-illustration-grid").length&&$(".td-product-service-illustration-grid .td-row").css("opacity",0),vm.getSelectedData=factoryFilterTool.getFilterData(),vm.checkBoxListData=filterToolLoadCatagory.getCatagoryData(),vm.indexList=[],vm.selectedKeys="",vm.productId=""==id?"1":id,vm.classifications.classifications.length>1)for(var i=0;i<vm.classifications.classifications.length;i++)if(vm.classifications.classifications[i].id==vm.productId){vm.classification=vm.classifications.classifications[i].classification;break}var obj=eval("("+vm.classification+")"),parsedString=JSON.stringify(obj);vm.cardJson=JSON.parse(parsedString),vm.catalogueLength=Object.keys(vm.cardJson).length;for(var j=0;j<vm.getSelectedData.length;j++)if(void 0!=vm.getSelectedData[j]&&"object"==typeof vm.getSelectedData[j]&&vm.getSelectedData.length>0){var combinedKeys=vm.getSelectedData[j].filter(function(e){return""!==e&&null!=e}).join("-");vm.selectedKeys.length&&combinedKeys.length?vm.selectedKeys=vm.selectedKeys+"-"+combinedKeys:vm.selectedKeys=vm.selectedKeys+combinedKeys}else void 0!=vm.getSelectedData[j]&&""!=vm.getSelectedData[j]&&(vm.selectedKeys=vm.selectedKeys+vm.getSelectedData[j]);for(var prodCatalogueMeta=new Array(vm.catalogueLength),i=0;i<vm.catalogueLength;i++){prodCatalogueMeta[i]=new Array;for(var k=0;k<Object.keys(vm.cardJson[i]).length;k++)prodCatalogueMeta[i].push(Object.keys(vm.cardJson[i][k]).map(function(e){return vm.cardJson[i][k][e]}).join("-"));prodCatalogueMeta[i].indexOf(vm.selectedKeys)>=0&&vm.indexList.push(i)}var filteredProdCatMeta=prodCatalogueMeta.join(",").split(",").filter(function(e,t,o){return o.indexOf(e)===t});for(j=0;j<vm.checkBoxListData.length;j++){var keyCombination="",currentCheckBox={};currentCheckBox=vm.checkBoxListData[j],vm.selectedKeys.length?vm.selectedKeys.indexOf(currentCheckBox.key)>=0?(keyCombination=vm.selectedKeys,vm.checkBoxListData[j]=currentCheckBox):(currentCheckBox.disable=!0,keyCombination=vm.selectedKeys+"-"+currentCheckBox.key):keyCombination=currentCheckBox.key;var keyPermutation=createPermutations(keyCombination.split("-"),keyCombination.split("-").length),isKeyFound=keyPermutation.filter(function(e){return filteredProdCatMeta.indexOf(e)>-1}).join(",").length;isKeyFound&&(currentCheckBox.disable=!1,vm.checkBoxListData[j]=currentCheckBox)}if(vm.getSelectedData.length>0){for(var isSelectionEmpty=!1,i=0;i<vm.getSelectedData.length;i++)if(void 0!=vm.getSelectedData[i]||null!=vm.getSelectedData[i])for(var j=0;j<vm.getSelectedData[i].length;j++)void 0!==vm.getSelectedData[i][j]&&null!==vm.getSelectedData[i][j]&&""!=vm.getSelectedData[i][j]&&(isSelectionEmpty=!0);if(!isSelectionEmpty)for(var r=0;r<vm.catalogueLength;r++)vm.indexList.push(r)}for(var itemCount=0,r=0;r<vm.catalogueLength;r++)vm.indexList.indexOf(r)<0?$("#catalogue"+vm.productId.toString()+"_product"+r).addClass("hide"):($("#catalogue"+vm.productId.toString()+"_product"+r).removeClass("hide"),itemCount++);function createPermutations(e,t){var o=[],a=[],r=[];return function i(n,l){for(var c=0;c<e.length;c++)a[c]||(a[c]=!0,o[n]=e[c],n<t-1?i(n+1,c+1):r.push(o.join("-")),a[c]=!1)}(0),r}itemCount>0&&($(".td_rq_product_grid").length&&($(".td-catalogue-card").tdCatalogueCard({re_render:!0}),$(".td_rq_product_grid").tdProductGrid(),$(".td_rq_product_grid .td-row").animate({opacity:1})),$(".td-product-service-illustration-grid").length&&($(".td-product-service-illustration-grid").tdProductServiceIllustrationGrid({re_render:!0}),vm.filterResultShow=!0,vm.filterResultWait=!1,vm.filterDefaultState=!1,vm.filterNoResult=!1,$(".td-product-service-illustration-grid .td-row").animate({opacity:1})))})}function exposedFilterToolV2Factory(){var e={cardType:"",cardBenefits:"",catalogueId:""},t={};return{setFilterData:function(t,o){e[t]=o},getFilterData:function(){return e},setClassificationMap:function(e){t=e},getClassificationMap:function(){return t}}}function productCatalogueFactory(){return{setClassification:function(e){this.classifications=e},getClassification:function(e){for(var t={},o=0;o<this.classifications.classifications.length;o++)if(this.classifications.classifications[o].id==e){t=this.classifications.classifications[o].classification;break}return t},setProductMappings:function(e){this.productMappings=e},getProductMappings:function(){return this.productMappings}}}function factoryFilterTool(){var e={setFilterData:function(t){e.value=t},getFilterData:function(){return e.value},value:[]};return e}function apiFactory(e,t){return{getHttp:function(t){return e.get(t)}}}function filtertoolLoad(){var e={setFilterToolLoadData:function(t){e.value=t},getFilterToolLoadData:function(){return e.value}};return e}function filterToolLoadCatagory(){var e={getCatagoryData:function(){return e.value},setCatagoryData:function(t){e.value=t},value:[]};return e}!function(){"use strict";angular.module("tdctRedesign",["tdct","ngCookies","ngAria"]).config(["$ariaProvider",function(e){e.config({ariaHidden:!1})}])}(),function(){"use strict";angular.module("tdctRedesign").constant("TDCT_UTIL",{IS_RESL_RATES_AVAIL:!1,IS_GIC_RATES_AVAIL:!1,RESL_RATES:{},GIC_RATES:{},RATES_ERROR:"",isEmptyErrorMsg:""})}(),angular.module("tdctRedesign").controller("exposedFilterToolController",exposedFilterToolController).controller("ExposedFilterToolV2Controller",ExposedFilterToolV2Controller).controller("filterToolController",filterToolController).controller("NotificationMessageController",NotificationMessageController).controller("ProductCatalogueController",ProductCatalogueController).controller("RatesController",RatesController).controller("tdctRedesignController",tdctRedesignController),angular.module("tdctRedesign").directive("reslRate",function(){return{restrict:"A",controller:ReslRateController,scope:{code:"=",type:"@",lang:"@",highRatio:"@"},template:"{{formatedRate}}"}}),exposedFilterToolController.$inject=["$http","factoryFilterTool","filtertoolLoad","$window","$rootScope","$location","apiFactory","filterToolLoadCatagory"],ExposedFilterToolV2Controller.$inject=["$http","$window","$rootScope","$scope","$timeout","exposedFilterToolV2Factory","productCatalogueFactory","ExposedFilterToolV2Service","ProductCatalogueService"],filterToolController.$inject=["$http","factoryFilterTool","filtertoolLoad","$window","$rootScope","$location","apiFactory"],NotificationMessageController.$inject=["$http","$scope"],ProductCatalogueController.$inject=["$rootScope","exposedFilterToolV2Factory","productCatalogueFactory"],RatesController.$inject=["$scope","$http","TDCT_UTIL"],ReslRateController.$inject=["$scope","$rootScope","TDCT_UTIL"],tdctRedesignController.$inject=["$scope","$rootScope","TDCT_UTIL","$http","$cookies","$timeout","$compile","$window","$location","factoryFilterTool","filtertoolLoad","apiFactory","filterToolLoadCatagory","ProductCatalogueService","exposedFilterToolV2Factory"],angular.module("tdctRedesign").factory("exposedFilterToolV2Factory",exposedFilterToolV2Factory),angular.module("tdctRedesign").factory("productCatalogueFactory",productCatalogueFactory),angular.module("tdctRedesign").factory("factoryFilterTool",factoryFilterTool).factory("filtertoolLoad",filtertoolLoad).factory("apiFactory",apiFactory).factory("filterToolLoadCatagory",filterToolLoadCatagory),apiFactory.$inject=["$http","$window"];var tdctapp=angular.module("tdctRedesign");function ExposedFilterToolV2Service(e){this.mapProductClassification=function(t){var o={};angular.forEach(t,function(e){angular.forEach(e,function(e){o.hasOwnProperty(e[0])||(o[e[0]]=[]),-1==o[e[0]].indexOf(e[1])&&o[e[0]].push(e[1])})}),e.setClassificationMap(o)}}function ProductCatalogueService(productCatalogueFactory){this.productClassifications=function(classifications){if(classifications.classifications.length>0)for(var i=0;i<classifications.classifications.length;i++){var classification=classifications.classifications[i].classification;angular.equals(classification,{})&&(classification=JSON.stringify(classification)),"string"==typeof classification&&(classifications.classifications[i].classification=eval("("+classification+")"))}productCatalogueFactory.setClassification(classifications)},this.productMappingsfromClassification=function(e){var t={};angular.forEach(e,function(e,o){t.hasOwnProperty(o)||(t[o]={cardType:[""],cardBenefits:[""]}),angular.forEach(e,function(e){-1==t[o].cardType.indexOf(e[0])&&t[o].cardType.push(e[0]),-1==t[o].cardBenefits.indexOf(e[1])&&t[o].cardBenefits.push(e[1])})}),productCatalogueFactory.setProductMappings(t)}}tdctapp.filter("rateFilter",function(){return function(e,t){return isNaN(parseInt(e))?e:(e=parseFloat(e).toFixed(2),"fr"!=t?e+"%":(e+" %").replace(".",","))}}),tdctapp.filter("jsonFilter",function(){return function(e,t,o){var a={};if(!angular.equals(e,{})){var r=e.key.indexOf(t),i=e.value,n=[];angular.forEach(i,function(e){e[r]===o&&n.push(e)}),a.key=e.key,a.value=n}return a}}),tdctapp.filter("jsonValueByAttr",function(){return function(e,t){var o="";if(!angular.equals(e,{})){var a=e.key.indexOf(t),r=e.value;r.length>0&&(o=r.pop()[a])}return o}}),tdctapp.filter("isEmpty",function(){return function(e,t){return angular.equals(e,"")?t:e}}),angular.module("tdctRedesign").service("ExposedFilterToolV2Service",ExposedFilterToolV2Service),ExposedFilterToolV2Service.$inject=["exposedFilterToolV2Factory"],angular.module("tdctRedesign").service("ProductCatalogueService",ProductCatalogueService),ProductCatalogueService.$inject=["productCatalogueFactory"];